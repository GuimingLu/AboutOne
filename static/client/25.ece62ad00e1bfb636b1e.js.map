{"version":3,"sources":["webpack:///./components/common/back_button.jsx","webpack:///./components/should_verify_email/should_verify_email.js","webpack:///./components/should_verify_email/index.js"],"names":["BackButton","React","PureComponent","render","props","onClick","url","title","PropTypes","string","func","ShouldVerifyEmail","constructor","email","URLSearchParams","location","search","get","setState","resendStatus","data","error","actions","sendVerificationEmail","state","resendConfirm","siteName","handleResend","object","isRequired","shape","mapStateToProps","SiteName","getConfig","mapDispatchToProps","dispatch","bindActionCreators","connect"],"mappings":"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","file":"25.ece62ad00e1bfb636b1e.js","sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport {FormattedMessage} from 'react-intl';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport default class BackButton extends React.PureComponent {\r\n    static propTypes = {\r\n\r\n        /**\r\n         * URL to return to\r\n         */\r\n        url: PropTypes.string,\r\n\r\n        /**\r\n         * An optional click handler that will trigger when the user clicks on the back button\r\n         */\r\n        onClick: PropTypes.func,\r\n    };\r\n\r\n    static defaultProps = {\r\n        url: '/',\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                id='back_button'\r\n                className='signup-header'\r\n            >\r\n                <Link\r\n                    onClick={this.props.onClick}\r\n                    to={this.props.url}\r\n                >\r\n                    <FormattedMessage\r\n                        id='generic_icons.back'\r\n                        defaultMessage='Back Icon'\r\n                    >\r\n                        {(title) => (\r\n                            <span\r\n                                id='back_button_icon'\r\n                                className='fa fa-1x fa-angle-left'\r\n                                title={title}\r\n                            />\r\n                        )}\r\n                    </FormattedMessage>\r\n                    <FormattedMessage\r\n                        id='web.header.back'\r\n                        defaultMessage='Back'\r\n                    />\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport {FormattedMessage} from 'react-intl';\r\n\r\nimport BackButton from 'components/common/back_button.jsx';\r\nimport SuccessIcon from 'components/icon/success_icon';\r\n\r\nexport default class ShouldVerifyEmail extends React.PureComponent {\r\n    static propTypes = {\r\n        location: PropTypes.object.isRequired,\r\n        siteName: PropTypes.string.isRequired,\r\n        actions: PropTypes.shape({\r\n            sendVerificationEmail: PropTypes.func.isRequired,\r\n        }).isRequired,\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            resendStatus: 'none',\r\n        };\r\n    }\r\n\r\n    handleResend = async () => {\r\n        const email = (new URLSearchParams(this.props.location.search)).get('email');\r\n\r\n        this.setState({resendStatus: 'sending'});\r\n\r\n        const {data, error} = await this.props.actions.sendVerificationEmail(email);\r\n        if (data) {\r\n            this.setState({resendStatus: 'success'});\r\n        } else if (error) {\r\n            this.setState({resendStatus: 'failure'});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let resendConfirm = '';\r\n\r\n        if (this.state.resendStatus === 'success') {\r\n            resendConfirm = (\r\n                <div>\r\n                    <br/>\r\n                    <p className='alert alert-success'>\r\n                        <SuccessIcon/>\r\n                        <FormattedMessage\r\n                            id='email_verify.sent'\r\n                            defaultMessage=' Verification email sent.'\r\n                        />\r\n                    </p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (this.state.resendStatus === 'failure') {\r\n            resendConfirm = (\r\n                <div>\r\n                    <br/>\r\n                    <p className='alert alert-danger'>\r\n                        <FormattedMessage\r\n                            id='generic_icons.fail'\r\n                            defaultMessage='Faliure Icon'\r\n                        >\r\n                            {(title) => (\r\n                                <i\r\n                                    className='fa fa-times'\r\n                                    title={title}\r\n                                />\r\n                            )}\r\n                        </FormattedMessage>\r\n                        <FormattedMessage id='email_verify.failed'/>\r\n                    </p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <BackButton/>\r\n                <div className='col-sm-12'>\r\n                    <div className='signup-team__container'>\r\n                        <h3>\r\n                            <FormattedMessage\r\n                                id='email_verify.almost'\r\n                                defaultMessage='{siteName}: You are almost done'\r\n                                values={{\r\n                                    siteName: this.props.siteName,\r\n                                }}\r\n                            />\r\n                        </h3>\r\n                        <div>\r\n                            <p>\r\n                                <FormattedMessage\r\n                                    id='email_verify.notVerifiedBody'\r\n                                    defaultMessage='Please verify your email address. Check your inbox for an email.'\r\n                                />\r\n                            </p>\r\n                            <button\r\n                                onClick={this.handleResend}\r\n                                className='btn btn-primary'\r\n                            >\r\n                                <FormattedMessage\r\n                                    id='email_verify.resend'\r\n                                    defaultMessage='Resend Email'\r\n                                />\r\n                            </button>\r\n                            {resendConfirm}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\r\nimport {sendVerificationEmail} from 'mattermost-redux/actions/users';\r\n\r\nimport ShouldVerifyEmail from './should_verify_email';\r\n\r\nconst mapStateToProps = (state) => {\r\n    const {SiteName: siteName} = getConfig(state);\r\n    return {siteName};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    actions: bindActionCreators({\r\n        sendVerificationEmail,\r\n    }, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShouldVerifyEmail);\r\n"],"sourceRoot":""}