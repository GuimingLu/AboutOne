{"version":3,"sources":["webpack:///./actions/admin_actions.jsx","webpack:///./selectors/views/admin.js","webpack:///./components/authorize/authorize.jsx","webpack:///./components/authorize/index.js"],"names":["dispatch","store","getState","saveConfig","config","success","error","data","err","AdminActions","id","server_error_id","reloadConfig","adminResetMfa","userId","UserActions","getClusterStatus","ldapTest","invalidateAllCaches","recycleDatabaseConnection","adminResetPassword","currentPassword","password","adminResetEmail","user","samlCertificateStatus","getOAuthAppInfo","clientId","bindClientFunc","clientFunc","Client4","params","allowOAuth2","responseType","redirectUri","state","scope","authorizeOAuthApp","emailToLdap","loginId","token","ldapId","ldapPassword","emailToOAuth","newType","oauthToEmail","currentService","email","follow_link","emitUserLoggedOutEvent","uploadBrandImage","brandImage","uploadLicenseFile","file","removeLicenseFile","uploadPublicSamlCertificate","uploadPrivateSamlCertificate","uploadIdpSamlCertificate","removePublicSamlCertificate","removePrivateSamlCertificate","removeIdpSamlCertificate","getStandardAnalytics","teamId","getAdvancedAnalytics","getPostsPerDayAnalytics","getUsersPerDayAnalytics","elasticsearchTest","testS3Connection","elasticsearchPurgeIndexes","setNavigationBlocked","blocked","type","ActionTypes","SET_NAVIGATION_BLOCKED","deferNavigation","onNavigationConfirmed","DEFER_NAVIGATION","cancelNavigation","CANCEL_NAVIGATION","confirmNavigation","thunkDispatch","thunkGetState","callback","getOnNavigationConfirmed","CONFIRM_NAVIGATION","invalidateAllEmailInvites","TeamActions","testSmtp","getNavigationBlocked","views","admin","navigationBlock","showNavigationPrompt","Authorize","React","Component","propTypes","location","PropTypes","object","isRequired","actions","shape","func","constructor","props","handleAllow","bind","handleDeny","UNSAFE_componentWillMount","URLSearchParams","search","get","test","then","setState","app","componentDidMount","blocker","document","getElementById","parentNode","removeChild","searchParams","redirect","window","href","message","startsWith","browserHistory","replace","render","icon","icon_url","icon50","appName","name","mapDispatchToProps","bindActionCreators","connect"],"mappings":"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","file":"17.0a6e6df25ccd20cbf090.js","sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport * as AdminActions from 'mattermost-redux/actions/admin';\r\nimport * as UserActions from 'mattermost-redux/actions/users';\r\nimport * as TeamActions from 'mattermost-redux/actions/teams';\r\nimport {Client4} from 'mattermost-redux/client';\r\nimport {bindClientFunc} from 'mattermost-redux/actions/helpers';\r\n\r\nimport {emitUserLoggedOutEvent} from 'actions/global_actions.jsx';\r\nimport {getOnNavigationConfirmed} from 'selectors/views/admin';\r\nimport store from 'stores/redux_store.jsx';\r\nimport {ActionTypes} from 'utils/constants.jsx';\r\n\r\nconst dispatch = store.dispatch;\r\nconst getState = store.getState;\r\n\r\nexport async function saveConfig(config, success, error) {\r\n    const {data, error: err} = await AdminActions.updateConfig(config)(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function reloadConfig(success, error) {\r\n    const {data, error: err} = await dispatch(AdminActions.reloadConfig());\r\n    if (data && success) {\r\n        dispatch(AdminActions.getConfig());\r\n        dispatch(AdminActions.getEnvironmentConfig());\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function adminResetMfa(userId, success, error) {\r\n    const {data, error: err} = await UserActions.updateUserMfa(userId, false)(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function getClusterStatus(success, error) {\r\n    const {data, error: err} = await AdminActions.getClusterStatus()(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function ldapTest(success, error) {\r\n    const {data, error: err} = await AdminActions.testLdap()(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function invalidateAllCaches(success, error) {\r\n    const {data, error: err} = await AdminActions.invalidateCaches()(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function recycleDatabaseConnection(success, error) {\r\n    const {data, error: err} = await AdminActions.recycleDatabase()(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function adminResetPassword(userId, currentPassword, password, success, error) {\r\n    const {data, error: err} = await UserActions.updateUserPassword(userId, currentPassword, password)(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function adminResetEmail(user, success, error) {\r\n    const {data, error: err} = await UserActions.patchUser(user)(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function samlCertificateStatus(success, error) {\r\n    const {data, error: err} = await AdminActions.getSamlCertificateStatus()(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport function getOAuthAppInfo(clientId) {\r\n    return bindClientFunc({\r\n        clientFunc: Client4.getOAuthAppInfo,\r\n        params: [clientId],\r\n    });\r\n}\r\n\r\nexport function allowOAuth2({responseType, clientId, redirectUri, state, scope}) {\r\n    return bindClientFunc({\r\n        clientFunc: Client4.authorizeOAuthApp,\r\n        params: [responseType, clientId, redirectUri, state, scope],\r\n    });\r\n}\r\n\r\nexport async function emailToLdap(loginId, password, token, ldapId, ldapPassword, success, error) {\r\n    const {data, error: err} = await UserActions.switchEmailToLdap(loginId, password, ldapId, ldapPassword, token)(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function emailToOAuth(loginId, password, token, newType, success, error) {\r\n    const {data, error: err} = await UserActions.switchEmailToOAuth(newType, loginId, password, token)(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function oauthToEmail(currentService, email, password, success, error) {\r\n    const {data, error: err} = await UserActions.switchOAuthToEmail(currentService, email, password)(dispatch, getState);\r\n    if (data) {\r\n        if (data.follow_link) {\r\n            emitUserLoggedOutEvent(data.follow_link);\r\n        }\r\n        if (success) {\r\n            success(data);\r\n        }\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function uploadBrandImage(brandImage, success, error) {\r\n    const {data, error: err} = await AdminActions.uploadBrandImage(brandImage)(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function uploadLicenseFile(file, success, error) {\r\n    const {data, error: err} = await AdminActions.uploadLicense(file)(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function removeLicenseFile(success, error) {\r\n    const {data, error: err} = await AdminActions.removeLicense()(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function uploadPublicSamlCertificate(file, success, error) {\r\n    const {data, error: err} = await AdminActions.uploadPublicSamlCertificate(file)(dispatch, getState);\r\n    if (data && success) {\r\n        success('saml-public.crt');\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function uploadPrivateSamlCertificate(file, success, error) {\r\n    const {data, error: err} = await AdminActions.uploadPrivateSamlCertificate(file)(dispatch, getState);\r\n    if (data && success) {\r\n        success('saml-private.key');\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function uploadIdpSamlCertificate(file, success, error) {\r\n    const {data, error: err} = await AdminActions.uploadIdpSamlCertificate(file)(dispatch, getState);\r\n    if (data && success) {\r\n        success('saml-idp.crt');\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function removePublicSamlCertificate(success, error) {\r\n    const {data, error: err} = await AdminActions.removePublicSamlCertificate()(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function removePrivateSamlCertificate(success, error) {\r\n    const {data, error: err} = await AdminActions.removePrivateSamlCertificate()(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function removeIdpSamlCertificate(success, error) {\r\n    const {data, error: err} = await AdminActions.removeIdpSamlCertificate()(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function getStandardAnalytics(teamId) {\r\n    await AdminActions.getStandardAnalytics(teamId)(dispatch, getState);\r\n}\r\n\r\nexport async function getAdvancedAnalytics(teamId) {\r\n    await AdminActions.getAdvancedAnalytics(teamId)(dispatch, getState);\r\n}\r\n\r\nexport async function getPostsPerDayAnalytics(teamId) {\r\n    await AdminActions.getPostsPerDayAnalytics(teamId)(dispatch, getState);\r\n}\r\n\r\nexport async function getUsersPerDayAnalytics(teamId) {\r\n    await AdminActions.getUsersPerDayAnalytics(teamId)(dispatch, getState);\r\n}\r\n\r\nexport async function elasticsearchTest(config, success, error) {\r\n    const {data, error: err} = await AdminActions.testElasticsearch(config)(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function testS3Connection(success, error) {\r\n    const {data, error: err} = await AdminActions.testS3Connection()(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function elasticsearchPurgeIndexes(success, error) {\r\n    const {data, error: err} = await AdminActions.purgeElasticsearchIndexes()(dispatch, getState);\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport function setNavigationBlocked(blocked) {\r\n    return {\r\n        type: ActionTypes.SET_NAVIGATION_BLOCKED,\r\n        blocked,\r\n    };\r\n}\r\n\r\nexport function deferNavigation(onNavigationConfirmed) {\r\n    return {\r\n        type: ActionTypes.DEFER_NAVIGATION,\r\n        onNavigationConfirmed,\r\n    };\r\n}\r\n\r\nexport function cancelNavigation() {\r\n    return {\r\n        type: ActionTypes.CANCEL_NAVIGATION,\r\n    };\r\n}\r\n\r\nexport function confirmNavigation() {\r\n    // have to rename these because of lint no-shadow\r\n    return (thunkDispatch, thunkGetState) => {\r\n        const callback = getOnNavigationConfirmed(thunkGetState());\r\n\r\n        if (callback) {\r\n            callback();\r\n        }\r\n\r\n        thunkDispatch({\r\n            type: ActionTypes.CONFIRM_NAVIGATION,\r\n        });\r\n    };\r\n}\r\n\r\nexport async function invalidateAllEmailInvites(success, error) {\r\n    const {data, error: err} = await dispatch(TeamActions.invalidateAllEmailInvites());\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n\r\nexport async function testSmtp(success, error) {\r\n    const {data, error: err} = await dispatch(AdminActions.testEmail());\r\n    if (data && success) {\r\n        success(data);\r\n    } else if (err && error) {\r\n        error({id: err.server_error_id, ...err});\r\n    }\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nexport function getNavigationBlocked(state) {\r\n    return state.views.admin.navigationBlock.blocked;\r\n}\r\n\r\nexport function showNavigationPrompt(state) {\r\n    return state.views.admin.navigationBlock.showNavigationPrompt;\r\n}\r\n\r\nexport function getOnNavigationConfirmed(state) {\r\n    return state.views.admin.navigationBlock.onNavigationConfirmed;\r\n}","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport {FormattedMessage} from 'react-intl';\r\n\r\nimport icon50 from 'images/icon50x50.png';\r\nimport FormError from 'components/form_error.jsx';\r\nimport {browserHistory} from 'utils/browser_history';\r\n\r\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message.jsx';\r\n\r\nexport default class Authorize extends React.Component {\r\n    static get propTypes() {\r\n        return {\r\n            location: PropTypes.object.isRequired,\r\n            actions: PropTypes.shape({\r\n                getOAuthAppInfo: PropTypes.func.isRequired,\r\n                allowOAuth2: PropTypes.func.isRequired,\r\n            }).isRequired,\r\n        };\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleAllow = this.handleAllow.bind(this);\r\n        this.handleDeny = this.handleDeny.bind(this);\r\n\r\n        this.state = {};\r\n    }\r\n\r\n    UNSAFE_componentWillMount() { // eslint-disable-line camelcase\r\n        const clientId = (new URLSearchParams(this.props.location.search)).get('client_id');\r\n        if (!((/^[a-z0-9]+$/).test(clientId))) {\r\n            return;\r\n        }\r\n\r\n        this.props.actions.getOAuthAppInfo(clientId).then(\r\n            ({data}) => {\r\n                if (data) {\r\n                    this.setState({app: data});\r\n                }\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        // if we get to this point remove the antiClickjack blocker\r\n        const blocker = document.getElementById('antiClickjack');\r\n        if (blocker) {\r\n            blocker.parentNode.removeChild(blocker);\r\n        }\r\n    }\r\n\r\n    handleAllow() {\r\n        const searchParams = new URLSearchParams(this.props.location.search);\r\n        const params = {\r\n            responseType: searchParams.get('response_type'),\r\n            clientId: searchParams.get('client_id'),\r\n            redirectUri: searchParams.get('redirect_uri'),\r\n            state: searchParams.get('state'),\r\n            scope: searchParams.get('store'),\r\n        };\r\n\r\n        this.props.actions.allowOAuth2(params).then(\r\n            ({data, error}) => {\r\n                if (data && data.redirect) {\r\n                    window.location.href = data.redirect;\r\n                } else if (error) {\r\n                    this.setState({error: error.message});\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    handleDeny() {\r\n        const redirectUri = (new URLSearchParams(this.props.location.search)).get('redirect_uri');\r\n        if (redirectUri.startsWith('https://') || redirectUri.startsWith('http://')) {\r\n            window.location.href = redirectUri + '?error=access_denied';\r\n            return;\r\n        }\r\n\r\n        browserHistory.replace('/error');\r\n    }\r\n\r\n    render() {\r\n        const app = this.state.app;\r\n        if (!app) {\r\n            return null;\r\n        }\r\n\r\n        let icon;\r\n        if (app.icon_url) {\r\n            icon = app.icon_url;\r\n        } else {\r\n            icon = icon50;\r\n        }\r\n\r\n        let error;\r\n        if (this.state.error) {\r\n            error = (\r\n                <div className='prompt__error form-group'>\r\n                    <FormError error={this.state.error}/>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className='container-fluid'>\r\n                <div className='prompt'>\r\n                    <div className='prompt__heading'>\r\n                        <div className='prompt__app-icon'>\r\n                            <img\r\n                                alt={'prompt icon'}\r\n                                src={icon}\r\n                                width='50'\r\n                                height='50'\r\n                            />\r\n                        </div>\r\n                        <div className='text'>\r\n                            <FormattedMarkdownMessage\r\n                                id='authorize.title'\r\n                                defaultMessage='**{appName}** would like to connect to your **Mattermost** user account'\r\n                                values={{\r\n                                    appName: app.name,\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <p>\r\n                        <FormattedMarkdownMessage\r\n                            id='authorize.app'\r\n                            defaultMessage='The app **{appName}** would like the ability to access and modify your basic information.'\r\n                            values={{\r\n                                appName: app.name,\r\n                            }}\r\n                        />\r\n                    </p>\r\n                    <h2 className='prompt__allow'>\r\n                        <FormattedMarkdownMessage\r\n                            id='authorize.access'\r\n                            defaultMessage='Allow **{appName}** access?'\r\n                            values={{\r\n                                appName: app.name,\r\n                            }}\r\n                        />\r\n                    </h2>\r\n                    <div className='prompt__buttons'>\r\n                        <button\r\n                            type='submit'\r\n                            className='btn btn-link authorize-btn'\r\n                            onClick={this.handleDeny}\r\n                        >\r\n                            <FormattedMessage\r\n                                id='authorize.deny'\r\n                                defaultMessage='Deny'\r\n                            />\r\n                        </button>\r\n                        <button\r\n                            type='submit'\r\n                            className='btn btn-primary authorize-btn'\r\n                            onClick={this.handleAllow}\r\n                        >\r\n                            <FormattedMessage\r\n                                id='authorize.allow'\r\n                                defaultMessage='Allow'\r\n                            />\r\n                        </button>\r\n                    </div>\r\n                    {error}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\n\r\nimport {allowOAuth2, getOAuthAppInfo} from 'actions/admin_actions.jsx';\r\n\r\nimport Authorize from './authorize';\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        actions: bindActionCreators({\r\n            getOAuthAppInfo,\r\n            allowOAuth2,\r\n        }, dispatch),\r\n    };\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Authorize);\r\n"],"sourceRoot":""}